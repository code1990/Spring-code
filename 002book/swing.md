26.1 Java绘图
Graphics 类是所有图形上下文的抽象基类,它允许应用程序在组件以及闭屏图像上进行绘制。
Graphics2D维承Graphics类,实现了功能更加强大的绘图操作的集合.
使用Color 类可以创建任何颜色的对象,
Java使用Font 类封装了字体的大小,样式等属性
Graphics2D类提供了drawString0方法,使用该方法可以实现图形上下文的文本绘制,
简单的播放音频,可以使用Applet类的 newAudioClip0方法创建音频剪辑对象,然后调用该对象
的play0方法进行播放.


由BoxLayout 类实现的布局管理器称为箱式布局管理器,用来管理一组水平或垂直排列的组件.
如果是用来管理一组水平排列的组件,则称为水平箱,效果如图24.1所示:如果是用来管理一组垂直
排列的组件,则称为垂直箱,效果如图24.2所示.
由CardLayout类实现的布局管理器称为卡片布局管理器,用来操纵其所管理容器中包含的容器或
组件.每个直接添加到其所管理容器中的容器或组件为一个卡片,最先被添加的容器或组件被认为是
第一个卡片,最后被添加的则为最后一个卡片,初次运行时将显示第一个卡片.
由GridBagLayout类实现的布局管理器称为网格组布局管理器,它实现了一个动态的矩形网格,
这个矩形网格由无数个矩形单元格组成,每个组件可以占用一个或多个这样的单元格 所谓动态的矩
形网格,就是可以根据实际需要随意增减矩形网格的行数和列数
由SpringLayout类实现的布局管理器称为弹簧布局管理器.利用该布局管理器管理组件,当改变
窗体的大小时,能够在不改变组件间相对位置的前提下自动调整组件的大小,使组件依旧布满整个窗
体,从而保证了窗体的整体效果.在使用该布局管理器时,需要与它的内部类Constraints以及 Spring
类配合使用,其中Constraints 类用来管理组件的位置和大小,Spring 类用来创建弹簧和支架,这也是
弹簧布局管理器的核心,即利用弹簧的可伸缩性动态控制组件的位置和大小.


分割面板由 javax.swing. JSplitPane类实现,用来将其所在的区域分割成两部分,程序处可以根据
实际情况决定是在水平方向上分割还是在垂直方向上分割。在这两部分之间存在一个分隔条,通过调
整分隔条的位置,可以改变这两部分的相对大小,用户可以根据实际情况自行调整。该功能可以有效
地增加界面的可用空间,这也是分割面板的主要特点
选项卡面板由 Javan. swing TabbedPane类实现,它实现了一个多卡片的用户界面,通过它可以将
一个复杂的对话框分割成若干个选项卡,实现对信息的分类显示和管理,使界面更简洁大方,还可以
有效地减少窗体的个数
在利用第二种策略管理窗口时,必须使用 DEsktop Pane类和 INtemal Frame类(
桌面面板
类和内部窗体类)。 desktop Pane类是一个容器类,阳来创建一个虚拟的来面: INtern
类是一个
轻量级对象,用来创建支持拖动、关闭、图标化、调整大小、标题显示和菜单栏的
该内部
窗体需要呈示在由 DEsktop Pane类创建的桌面面板中。下面就来学习这两个类的使用方法,


JMen类用来创建菜单,菜单用米添加菜单项和子菜单,从面实现对菜单项的分类管理。该类除
了拥有默认的没有入口参数的构造方法外,还有一个常用的构造方法』 Menu( String s).,用来创建一个具
有排定名称的菜单。 MEnu类中的常用方法如表23.8所示
创建弹出式菜单和创建菜单栏的步骤基本相似,只是在创建菜单栏时第一步创建的是 J Menu bar
类的对象,而创建弹出式菜单的第一步创趣的是 JPopupMenu类的对象,然后通过为需要弹出该菜单
的组件添加鼠标事件监听器,在捕获弹出菜单事件时弹出该菜单
在开发应用程序时,经常需要选择文件,例如,从文件中导入数据,或者选择用户胝片等,通过
javax. swing. JFileChooser类可以轻松地卖现这个功能
利用 SystemTray类可以访问系统托盘,每个Java应用程序在运行时都会被分配一个该类的实例
可以通过该类的静态方法 getSystemTray0获得。某些系统可能不支持系统托盘功能,此时可以通过静
态方法 isSupportedo判断当前系统是否支持该功能,如果支持则返回tue,否劁返回flse
利用 Desktop类可以在Java应用程序中启动已经在本机上注的应用程序,如遇过启动默认的浏
览器显示指定的网站、打开或编辑指定的文件等。


当向文本框中输入内容时,将发生键盘事件。 Key Event类负责捕获键盘事件,可以通过为组件添
加实现了 KeyListener接口的监听器类来处理相应的键盘事件
表251 KeyEvent类中的常用方法
功能简介
用来获得触发此次事件的组件对象,返回值为 Object类型
tKey char(
用来获得与此事件中的键相关联的字符
用来获得与此事件中的键相关联的整数 key Code
getKey Text(int key Code
用来获得描述 keyCode的标签,如A、Fl和HOME等
sActionkcyO
用来查看此事件中的键是否为“动作”键
isControlDownO
用来查看C键在此次事件中是否被按下,当返回ue时表示被按下
用来查看At键在此次事件中是否被按下,当返回tue时表示被按下
用来查看Sh键在此次事件中是否被按下,当返回true时表示被按下
表252 Mouse Event类中的常用方法
功能简介
resOurce(
用来获得触发此次事件的组件对象,返回值为 Object类型
用来获得代表触发此次按下、释放或单击事件的按键的i型值
etclickCounto
用来获得单击按键的次数
需要捕获窗体焦点发生变化的事件时,即窗体获得或失去焦点的事件时,可以通过实现了
Window FocusListener接口的事件监听器完成。 Window FocusListener接口的具体定义如下:

需要捕获窗体焦点发生变化的事件时,即窗体获得或失去焦点的事件时,可以通过实现了
ndow Focus Listener接口的事件监听器完成。 Window Focus Listener接口的具体定义如下
需要捕获窗体状态发生变化的事件时,即窗体由正常化变为最小化、由最大化变为正常化等事件时
「以通过实现了 WindowStateListener接口的事件监听器完成。 Window StateListener接口的具体定义如下
需要捕获其他与窗体有关的事件时,如捕获窗体被打开、将要被关闭、已经被关闭等事件时,可
以通过实现了 Window Listener接口的事件监听器完成。 Window Listener接口的具体定义如下
当修改下拉菜单中的选中项时,将发生选项事件, ItemEvent类负责捕获选项事件,可以通过为组
件添加实现了 ItemListener接口的监听器类来处理相应的选项事件。
当向表格模型中添加行,或修改、删除表格模型中的现有行时,将发生表格模型事件
Table ModelEvent类负责捕获表格模型事件,可以通过为组件添加实现了 Table ModelListener接口的监
听器类来处理相应的表格模型事件。
表255 Table ModelEvent类中的常用方法
功能简介
得此次事件的类型
的表格行的最小索
UPDATE,获得触发此次事件的表格列的索引值,否则将返回-1


原来的AWT组件来自 java. awt包,当含有AWT组件的Java应用程序在不同的平台上执行时,每
个平台的GUI组件的显示会有所不同,但是在不同平台上运行使用 Swing开发的应用程序时,就可以
统一GUI组件的显示风格,因为 Swing组件允许编程人员在跨平台时指定统一的外观和风格。
Swing组件通常被称为“轻量级组件”,因为它完全由Jaa语言编写,而Java是不依赖于操作系
统的语言,它可以在任何平台上运行;相反,依赖于本地平台的组件被称为“重量级组件”,如AWT
组件就是依赖本地平台的窗口系统来决定组件的功能、外观和风格。 Swing主要具有以下特点:
在 Swing组件中大多数GUI组件都是 Component类的直接子类或间接子类, JComponent类是 Swing
组件各种特性的存放位置,这些组件的特性包括设定组件边界、GUI组件自动滚动等
在 Swing组件中最重要的父类是 Container类,而 Container类有两个最重要的子类,分别为
java. awt. window与 java. awt. Frame,除了以往的AWT类组件会继承这两个类之外,现在的Swng组件
也扩展了这两个类。从图131中可以发现,顶层父类是 Component类与 Container类,所以Java关于
窗口组件的编写,都与组件以及容器的概念相关联

表131常用的 Swing组件
组件名称
定义
JButton
代表 Swing按钮,按钮可以带一些图片或文字
CHeckbOx
代表 Swing中的复选框组件
COmbOx
代表下拉列表框,可以在下拉显示区域显示多个选项
JFrame
代表 Swing的框架类
JDialog
代表 Swing版本的对话框
JLabel
代表 Swing中的标签组件
RAdiobUtton
代表 Swing的单选按钮
代表能够在用户界面中显示一系列条目的组件
JTextField
代表文本框
JPasswordField
代表密码框
JTextArea
代表 Swing中的文本区域
代表 Swing中的一些对话框
窗体作为Swng应用程序中组件的承载体,处于非常重要的位置。 Swing中常用的窗体包括 JFrame
和 JDialog,本节将着重讲解这两个窗体的使用方法


JFrame窗体是一个容器,它是 Swing程序中各个组件的载体,可以将 JFrame看作是承载这些 Swing
组件的容器。在开发应用程序时可以通过继承 javaswing.JFrame类创建一个窗体,在这个窗体中添加
组件,同时为组件设置事件。由于该窗体继承了 JFrame类,所以它拥有“最大化”“最小化”“关闭”
等按钮。
下面将详细讲解 JFrame窗体在Java应用程序中的使用方法
JFrame在程序中的语法格式如下:
JFrame jf=new JFrame(title ):
Container container=jf. getcontentPane(
JDialog窗体是 Swing组件中的对话框,它继承了AWT组件中的 java. awt. Dialog类
JDialog窗体的功能是从一个窗体中弹出另一个窗体,就像是在使用IE浏览器时弹出的确定对话
框一样。 JDialog窗体实质上就是另一种类型的窗体,它与 JFrame窗体类似,在使用时也需要调用
getContent Panel方法将窗体转换为容器,然后在容器中设置窗体的特性。


标签由 JLabel类定义,它的父类为 JComponent类。
标签可以显示一行只读文本、一个图像或带图像的文本,它并不能产生任何类型的事件,只是简
单地显示文本和图片,但是可以使用标签的特性指定标签上文本的对齐方式。
JLabel类提供了多种构造方法,可以创建多种标签,如显示只有文本的标签、只有图标的标签或
包含文本与图标的标签。 JLabel类常用的几个构造方法如下。
在 Swing中通过lcon接口来创建图标,可以在创建时给定图标的大小、颜色等特性。如果使用lcon
接口,必须实现leon接口中的3个方法:
Swing提供的常用布局管理器包括流布局管理器、边界布局管理器和网格布局管理器。
在 Swing中,除了使用布局管理器之外还可以使用绝对布局。绝对布局,就是硬性指定组件在容
器中的位置和大小,可以使用绝对坐标的方式来指定组件的位置。
使用绝对布局的步骤如下:
(1)使用 Container. setLayout(nul方法取消布局管理器。
(2)使用 Component set Bound0方法设置每个组件的大小与位置。

?( FlowLayout)布局管理器是最基本的布局管理器,在整个容器中的布局正如其名,像“流”
样从左到右摆放组件,直到占据了这一行的所有空间,然后再向下移动一行。默认情况下,组件在每
行都是居中排列的,但是通过设置也可以更改组件在每一行上的排列位置。
在默认不指定窗体布局的情况下, Swing组件的布局模式是边界( BorderLayout)布局管理器。例
如,在例13.3中,容器中只添加了一个标签组件,在运行结果中可以看到这个标签被放置在窗体中间,
并且整个组件占据了窗体的所有空间,实质上在这个容器中默认使用了边界布局管理器。
但是边界布局管理器的功能不止如此,边界布局管理器还可以将容器划分为东、南、西、北、中5
个区域,可以将组件加入到这5个区域中。容器调用 Container类的ad0方法添加组件时可以设置此
组件在边界布局管理器中的区域,区域的控制可以由 Border Layout类中的成员变量来决定,这些成员
变量的具体含义如表132所示。
网格( GridLayout)布局管理器将容器划分为网格,所以组件可以按行和列进行排列。在网格布局
管理器中,每一个组件的大小都相同,并且网格中空格的个数由网格的行数和列数决定,如一个两行
两列的网格能产生4个大小相等的网格。组件从网格的左上角开始,按照从左到右、从上到下的顺序
加入到网格中,而且每一个组件都会填满整个网格,改变窗体的大小,组件的大小也会随之改变。


面板也是一个 Swing容器,它可以作为容器容纳其他组件,但它也必须被添加到其他容器中。 Swing
中常用的面板包括 JPanel面板以及 JScrollPane面板。下面着重讲解 Swing中的常用面板。
JPanel面板可以聚集一些组件来布局。读者首先应该明确的是面板也是一种容器,因为它也继承
自 java.awt Container类。
在设置界面时,可能会遇到在一个较小的容器窗体中显示一个较大部分的内容的情况,这时可以
使用 JScrollPane面板。 JScrollPane面板是带滚动条的面板,它也是一种容器,但是 SCroll!ane只能放
置一个组件,并且不可以使用布局管理器。如果需要在 JScrollPane面板中放置多个组件,需要将多个
组件放置在 JPanel面板上,然后将 JPanel面板作为一个整体组件添加在 JScrollPane组件上。
按钮在 Swing中是较为常见的组件,用于触发特定动作。 Swing中提供多种按钮,包括提交按钮、
复选框、单选按钮等,这些按钮都是从 Abstract Button类中继承而来的,本节将着重讲解这些按钮的应用。
Swing中的提交按钮( JButton)由 JButton对象表示,其构造方法主要有以下几种形式:

在默认情况下,单选按钮( RAdio Button)显示一个圆形图标,并且通常在该图标旁放置一些说明
性文字,而在应用程序中,一般将多个单选按钮放置在按钮组中,使这些单选按钮表现出某种功能
当用户选中某个单选按钮后,按钮组中其他按钮将被自动取消。单选按钮是 Swing组件中 JRadio Button
类的对象,该类是 TOggle Button的子类,而 TOggle Button类又是 Abstract Butt类的子类,所以控制
单选按钮的诸多方法都是 Abstract Button类中的方法。
1.单选按钮
可以使用 RAdiobUtton类中的构造方法创建单选按钮对象。 RAdio Button类的常用构造方法主要有
以下几种形式
在 Swing中存在一个 Button Group类,用于产生按钮组,如果希望将所有的单选按钮放置在按钮
组中,需要实例化一个 RAdiobUtton对象,并使用该对象调用addO方法添加单选按钮。
复选框( CHeckbOx)在 Swing组件中的使用也非常广泛,它具有一个方块图标,外加一段描述性
文字。与单选按钮唯一不同的是,复选框可以进行多选设置,每一个复选框都提供“选中”与“不选
中”两种状态。复选框用 CHeckbOx类的对象表示,它同样继承于 Abstract Button类,所以复选框组件
的属性设置也来源于 Abstract Button类。


Swing中提供两种列表组件,分别为下拉列表框与列表框。下拉列表框与列表框都是带有一系列
项目的组件,用户可以从中选择需要的项目。列表框较下拉列表框更直观,它将所有的项目罗列在列
表框中;但下拉列表框较列表框更为便捷、美观,它将所有的项目隐藏起来,当用户选用其中的项目
时才会显现出来。本节将详细讲解列表框与下拉列表框的应用。
下拉列表框是一个带条状的显示区,它具有下拉功能。在下拉列表框的右方存在一个倒三角形的
按钮,当用户单击该按钮时,下拉列表框中的项目将会以列表形式显示出来。
Swing中的下拉列表框使用 JComboBox类对象来表示,它是 javax. swing JComponent类的子类
在开发程序中,一般将下拉列表框中的项目封装为 Combo Model的情况比较多。 ComboBox Model
为接口,它代表一般模型,可以自定义一个类实现该接口,然后在初始化 JComboBox对象时向上转型
为 ComboBox Model接口类型,但是必须实现以下两种方法:
列表框( JList)与下拉列表框的区别不仅表现在外观上,当激活下拉列表框时,还会出现下拉列
表框中的内容;但列表框只是在窗体上占据固定的大小,如果需要列表框具有滚动效果,可以将列表
框放入滚动面板中。用户在选择列表框中的某一项时,按住 Shift键并选择列表框中的其他项目,则当
前选项和其他项目之间的选项将全部被选中;也可以按住Ctrl键并单击列表框中的单个项目,这样可
以使列表框中被单击的项目反复切换非选择状态或选择状态。

文本框( JTextField)用来显示或编辑一个单行文本,在 Swing中通过 javax. swing JTextField类对
象创建,该类继承了 javax. swing. text. JTextComponent类。下面列举了一些创建文本框常用的构造方法
密码框( JPasswordField)与文本框的定义与用法基本相同,唯一不同的是密码框将用户输入的字
符串以某种符号进行加密。密码框对象是通过 javax. swing. JPasswordField类来创建的, PAssword Field
类的构造方法与 JTextField类的构造方法非常相似。下面列举几个常用的构造方法。
在1362小节中曾讲述过文本域( JTextArea)这一组件,其使用方法也非常简单。它在程序中接
受用户的多行文字输入。
在 Swing事件模型中由3个分离的对象完成对事件的处理,分别为事件源、事件以及监听程序。
事件源触发一个事件,它被一个或多个“监听器”接收,监听器负责处理事件。
所谓事件监听器,实质上就是一个“实现特定类型监听器接口”的类对象。具体地说,事件几乎
都以对象来表示,它是某种事件类的对象,事件源(如按钮)会在用户做出相应的动作(如按钮被按
下)时产生事件对象,如动作事件对应 Action event类对象,同时要编写一个监听器的类必须实现相应
的接口,如 Action Event类对应的是 Action Listener接口,需要获取某个事件对象就必须实现相应的接
口,同时需要将接口中的方法一一实现。最后事件源(按钮)调用相应的方法加载这个“实现特定类
型监听器接口”的类对象,所有的事件源都具有 addXXXListenerO和 removeXXXListenerd方法(其中
XXX”表示监听事件类型),这样就可以为组件添加或移除相应的事件监听器。

动作事件( Action Event)监听器是 Swing中比较常用的事件监听器,很多组件的动作都会使用它
监听,如按钮被单击。表13.3描述了动作事件监听器的接口与事件源。
表133动作事件监听器
件名称
Action event
H nate,Is# eed s
监听接口
添加或删除相应类型监听器的方法
Action lister
add ActionListener(, removeActionListener(
焦点事件( Focus Event)监听器在实际项目开发中应用也比较广泛,如将光标焦点离开一个文本框
时需要弹出一个对话框,或者将焦点返回给该文本框等。焦点事件监听器的相关内容如表134所示。
表134焦点事件监听器
事件名称
监听接
添加或删除相应类型监听器的方法
Focus Event
Component以及派生类 FocusListener addFocusListenerO, remove FocusListenerO